(() => {
  const t = performance.timing;
  const nav = t.navigationStart;
  
  const phases = [
    ['Navigation ‚Üí Fetch Start', t.fetchStart - nav],
    ['DNS Lookup', t.domainLookupEnd - t.domainLookupStart],
    ['TCP Connect', t.connectEnd - t.connectStart],
    ['Request ‚Üí Response (TTFB)', t.responseStart - t.requestStart],
    ['Response Download', t.responseEnd - t.responseStart],
    ['Response ‚Üí DOM Loading', t.domLoading - t.responseEnd],
    ['DOM Loading ‚Üí Interactive', t.domInteractive - t.domLoading],
    ['Interactive ‚Üí DOMContentLoaded', t.domContentLoadedEventEnd - t.domInteractive],
    ['DOMContentLoaded ‚Üí Complete', t.domComplete - t.domContentLoadedEventEnd],
    ['Load Event', t.loadEventEnd - t.loadEventStart],
    ['‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ', '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ'],
    ['TOTAL (navStart ‚Üí loadEnd)', t.loadEventEnd - nav],
  ];

  console.log('\nüìä Page Load Timeline\n');
  let msg = '';
  phases.forEach(([label, ms]) => {
    const duration = typeof ms === 'number' ? `${ms}ms` : ms;
    const warning = ms > 100 ? ' ‚ö†Ô∏è' : '';
    msg += `${label.padEnd(35)} ${duration}${warning}\n`;
  });

  console.log(msg);
  
  console.log(`\nüíæ Memory: ${(performance.memory?.usedJSHeapSize / 1024 / 1024).toFixed(1)} MB used\n`);
})();
